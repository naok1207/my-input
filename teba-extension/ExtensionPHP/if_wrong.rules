##接頭辞を削除し,モデル決定
#else ifを削除
{ $:CT_EL $:SP_B $:CT_IF $:SP $any:ANY $:SP_NL}
 => { '':_ONE 'ELSEIF':MODEL '':_C $any '\n':SP_NL 'CCCJJJPPP':CNT }

#elseを削除
{ $:CT_EL $any:ANY $:SP_NL }
 =>{ '':_E_ONE 'ELSE':MODEL '':B_STMT $any '':E_STMT '\n':SP_NL}

#ifを削除
{ $:CT_IF/if/ $:SP $any:ANY }
 => { '':_ONE 'IF':MODEL '':_C $any}

#elseifを削除
{ $:CT_EIF/elseif/ $:SP $any:ANY $:SP_NL }
 => { '':_ONE 'ELSEIF':MODEL '':_C $any '\n':SP_NL 'PPP':CNT}

#elsifを削除
{ $:CT_EIF/elsif/ $:SP $any:ANY $:SP_NL }
 => { '':_ONE 'ELSEIF':MODEL '':_C $any '\n':SP_NL 'RRR':CNT}

#elifを削除
{ $:CT_EIF/elif/ $:SP $any:ANY $:SP_NL }
 => { '':_ONE 'ELSEIF':MODEL '':_C $any '\n':SP_NL 'YYY':CNT}

##条件式のくくり
#( )あり かつ 文末にdoや：などの文の開始記号あり elseif ver
{$model:MODEL $:_C $#2:P_L $cond:ANY $#2:P_R $:SP $op:/(CT_DO|THEN|CO|C_L)/ $stmt:ANY $:SP_NL }
 =>{ '':_TWO $model:MODEL '':B_COND $cond '':E_COND '':B_STMT $op $stmt '':E_STMT '\n':SP_NL 'CJP':CNT}

#( )あり かつ 文末にdoや：などの文の開始記号ありelseif以外ver
{$model:MODEL $:_C $#1:B_P $#2:P_L $cond:ANY $#2:P_R $#1:E_P $:SP $op:/(CT_DO|THEN|CO|C_L)/ $stmt:ANY $:SP_NL }
 =>{ '':_TWO $model:MODEL '':B_COND $cond '':E_COND '':B_STMT $op $stmt '':E_STMT '\n':SP_NL 'CJP':CNT}

#( )なし かつ 文末に文の開始記号あり
{$model:MODEL  $:_C $cond:ANY $:SP $op:/(CT_DO|THEN|CO|C_L)/ $stmt:ANY $:SP_NL }
 =>{ '':_TWO $model:MODEL '':B_COND $cond '':E_COND '':B_STMT $op $stmt '':E_STMT '\n':SP_NL 'YR':CNT}

#( )あり かつ 文末に文の開始記号がない
{$model:MODEL $:_C $#1:B_P $#2:P_L $cond:ANY $#2:P_R $#1:E_P $stmt:ANY $:SP_NL}
 => { '':_TWO $model:MODEL '':B_COND $cond '':E_COND '':B_STMT $stmt '':E_STMT '\n':SP_NL 'CJP':CNT}

#( )なし かつ 文末に文の開始記号がない
{$model:MODEL  $:_C $cond:ANY $:SP_NL }
 =>{ '':_TWO $model:MODEL '':B_COND $cond '':E_COND '':B_STMT '':E_STMT '\n':SP_NL 'R':CNT}


##文チェック
#文末が {
{ $model:MODEL $any:ANY $:B_STMT $#1:C_L $stmt:ANY $:E_STMT $:SP_NL}
 =>{ '':_THREE $model:MODEL $any '\n':SP_NL 'CJP':CNT }

#文末が :
 { $model:MODEL $any:ANY $:B_STMT $:CO $:ANY$:E_STMT $:SP_NL}
 =>{ '':_THREE $model:MODEL $any '\n':SP_NL 'Y':CNT }

#文末が do/then
{ $model:MODEL $any:ANY $:B_STMT $:/(CT_DO|THEN)/ $:ANY $:E_STMT $:SP_NL}
 =>{ '':_THREE $model:MODEL $any '\n':SP_NL 'R':CNT }

 #文末に何もない
 { $model:MODEL $any:ANY $:B_STMT $:ANY $:E_STMT $:SP_NL }
  => { '':_THREE $model:MODEL $any '\n':SP_NL 'CPJR':CNT }

#完全なモデル?
{$any:ANY $:_ONE $:_TWO $:_THREE}
 => { '':OK $any}

#完全なELSEモデル?
 {$any:ANY $:_E_ONE $:_THREE }
 => { '':OK $any}
